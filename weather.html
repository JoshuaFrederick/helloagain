<!-- A website about me, and linking to various points of interest -->

<!DOCTYPE html>

<html lang="en-US">

<head>
    <title>Josh Frederick</title>
    <meta charset="UTF-8" />
    <meta name="author" content="Josh Frederick" />
    <meta name="description" content="A website about me, and linking to various points of interest" />
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link rel="icon" href="Website Favicon-2.png" type="image/x-icon" />
 <!--   <script src="script.js" defer></script> -->
</head>

<body>
    <header>
        <h1>Josh Frederick</h1>
    </header>

    <nav>
        <ul class="nav">
            <li class="nav"><a href="index.html">Home</a></li>
            <li class="nav"><a href="exercises.html">Exercises</a></li>
            <li class="nav"><a href="weather.html">Weather</a></li>
        </ul>
    </nav>
    
    <section id="weather">
        <h2>Current Weather at My House</h2>
        <div id="weather-info">Loading weather data...</div>
    </section>    

    <footer>
        <p>© 2024 Josh Frederick<br><a href="mailto:joshua.ryan.frederick@gmail.com?subject=A%20note%20from%20your%20website">Drop me a note!</a></p> 
    </footer>

    <script>
    async function fetchWeatherData() {
        const apiKey = '35c2b4bd-4cbe-4c49-9f8a-fbf38fb0d774'; // Replace with your actual API key
        const stationId = 'ST-00147142'; // Replace with your station ID
        const url = `https://api.weatherflow.com/wxengine/rest/observations/station/${ST-00147142}?token=${35c2b4bd-4cbe-4c49-9f8a-fbf38fb0d774}`;

        try {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error('Weather data could not be retrieved');
            }
            const data = await response.json();
            displayWeatherData(data);
        } catch (error) {
            console.error('Failed to fetch weather data:', error);
            document.getElementById('weather-info').textContent = 'Failed to load weather data.';
        }
    }

    function displayWeatherData(data) {
        // Adjust based on the actual data structure
        const temperature = data.temperature;
        const conditions = data.conditions;
        document.getElementById('weather-info').innerHTML = `Temperature: ${temperature}°, Conditions: ${conditions}`;
    }

    // Fetch weather data when the page loads
    document.addEventListener('DOMContentLoaded', fetchWeatherData);

    // Update weather data every 30 seconds
    setInterval(fetchWeatherData, 30000);
    </script>

</body>

</html>